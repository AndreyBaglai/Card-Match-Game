(this["webpackJsonpcard-match-game"]=this["webpackJsonpcard-match-game"]||[]).push([[0],{18:function(e,t,a){e.exports=a(30)},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a.n(c),s=a(8),o=a(3),d=a(2),l=a(13),u=a(4),m=a(16),f=a(14),h=a(17),b=a(7),k=a(9),g=a.n(k),C=150,p=250,v="IN_PROGRESS",E="CREATING",j="RESETTING",O="FINISHED",S="SELECTED",y="MATCHED",x="HIDDEN",w=Object(b.a)({card:{padding:5,borderRadius:5,height:p,width:C,border:"black 5px solid",position:"relative",transition:"all 0.4s linear",transformStyle:"preserve-3d",margin:"5px"},selected:{borderColor:"blue",transform:"rotateY(180deg)"},front:{transform:"rotateY(180deg)"},matched:{borderColor:"green",backgroundColor:"white",transform:"rotateY(180deg)"},inner:{position:"absolute",backfaceVisibility:"hidden"},back:{}}),G=function(e){var t,a=e.data,n=e.handleClick,c=e.index,i=a.id,s=a.url,d=a.status,l=w(),u=d===S,m=d===y;return r.a.createElement("div",{className:g()(l.card,(t={},Object(o.a)(t,l.selected,u),Object(o.a)(t,l.matched,m),t)),onClick:function(){d===x&&n(c,i)}},r.a.createElement("div",{className:g()(l.inner,l.front)},r.a.createElement("img",{src:s,alt:"card"})),r.a.createElement("div",{className:g()(l.inner,l.back)}))},I=Math.ceil(7.5),N=function(){for(var e=T(),t=e.concat(e);t.length>15;)t.pop();return t.sort((function(){return.5-Math.random()}))},T=function(){for(var e="".concat("https://picsum.photos","/").concat(C,"/").concat(p,"?random="),t=[],a=0;a<I;a++)t.push({id:a,url:e+a,status:x});return t},D={isLoading:!0,isChecking:!1,deck:{},count:0,firstCard:null,secondCard:null},L=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(f.a)(t).call(this))).initgame=function(){e.setState({deck:N(),isLoading:!1})},e.toggleCard=function(t,a){var n=Object(d.a)({},e.state.deck),r=Object(d.a)({},n[t]);r.status=a,n[t]=r,e.setState({deck:n})},e.checkSelectedCards=function(){var t,a=e.state,n=a.deck,r=a.firstCard,c=a.secondCard,i=Object(d.a)({},n[r.index]),s=Object(d.a)({},n[c.index]);r.id===c.id?(i.status=y,s.status=y):(i.status=x,s.status=x);var l=Object(d.a)({},n,(t={},Object(o.a)(t,r.index,i),Object(o.a)(t,c.index,s),t));setTimeout((function(){e.setState({deck:l}),e.checkGame()}),800),setTimeout(e.resetCards,800)},e.checkGame=function(){var t=e.state.deck;if(14===Object.keys(t).filter((function(e){return t[e].status===y})).length){var a=Object.keys(t).find((function(e){return t[e].status===x}));e.setState({deck:Object(d.a)({},t,Object(o.a)({},a,Object(d.a)({},t[a],{status:y})))}),e.props.handleFinish()}},e.resetCards=function(){e.setState({firstCard:null,secondCard:null,isChecking:!1})},e.flipCard=function(t,a){var n=e.state.count;n<2&&e.setState({count:n+1},(function(){1===e.state.count?e.setState({firstCard:{index:t,id:a}}):e.setState({secondCard:{index:t,id:a},count:0,isChecking:!0},e.checkSelectedCards),e.toggleCard(t,S)}))},e.handleClick=function(t,a){e.state.isChecking||e.flipCard(t,a)},e.state=Object(d.a)({},D),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.initgame(),this.props.startGame()}},{key:"render",value:function(){var e=this,t=this.state,a=t.deck,n=t.isLoading;return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",justifyItems:"center"}},n?"Loading...":Object.entries(a).map((function(t){var a=Object(s.a)(t,2),n=a[0],c=a[1];return r.a.createElement(G,{key:n,index:n,data:c,handleClick:e.handleClick})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.gameStatus===j&&((t=Object(d.a)({},D)).deck=N(),t.isLoading=!1,e.startGame()),t}}]),t}(r.a.Component),M=Object(b.a)({root:{position:"fixed",display:"grid",top:"30%",left:"25%",width:"50%",height:200,background:"aliceblue",justifyItems:"center",alignItems:"center"},button:{background:"white",border:"solid 1px black",padding:"1em 2em"}}),R=function(e){var t=e.handleClick,a=M();return r.a.createElement("div",{className:a.root},r.a.createElement("div",null,"Congratulations, you've won!"),r.a.createElement("button",{className:a.button,onClick:t},"Play Again"))},F=function(){var e=Object(n.useState)(E),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Card Match Game")),r.a.createElement("div",null,r.a.createElement(L,{gameStatus:a,startGame:function(){c(v)},handleFinish:function(){c(O)}}),a===O&&r.a.createElement(R,{handleClick:function(){c(j)}})),r.a.createElement("footer",null,"Created by ",r.a.createElement("a",{href:"https://www.kazyamada.com/"},"Kaz Yamada"),r.a.createElement("a",{href:"https://github.com/kaz-yamada/Card-Match-Game"},"Source")))};i.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.0ca4e507.chunk.js.map